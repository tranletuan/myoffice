<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />

	<title>Thông tin văn bản đến</title>

	<script type="text/javascript" th:src="@{/js/jquery-2.1.4.min.js}" ></script>

	<script type="text/javascript" th:src="@{/js/bootstrap.min.js}" ></script>
	
	<link rel="stylesheet" th:href="@{/css/bootstrap.min.css}" />

	<script type="text/javascript" th:src="@{/js/doc-in-info.js}" ></script>

	<link rel="stylesheet" type="text/css" th:href="@{/css/bootstrap-datetimepicker.min.css}" />

	<script type="text/javascript" th:src="@{/js/bootstrap-datetimepicker.min.js}"></script>

</head>
<body>
	<div class="container-fluid">
		<div th:replace="fragment/menu :: menu"></div>

		<!-- Message -->
		<div th:replace="fragment/message :: message"></div>

		<!-- Forward -->
		<div th:replace="fragment/forward-in :: forward_in"></div>

		<!-- Recive -->
		<div class="panel panel-default" th:unless="${docRec.number}" sec:authorize="hasRole('ROLE_INPUTER')">
			 	<div class="panel-heading"><h4>Tiếp nhận văn bản</h4></div>
			 	<div class="panel-body">
			 		<form class="form-horizontal" th:action="@{/flow/receive_doc}" method="post" autocompleted="off">
			 		
						<div class="form-group">
						<label for="number" class="col-sm-2 control-label">Số văn bản đến</label>
							<div class="col-sm-10">
								<div class="form-inline">
									<input type="text" class="form-control" id="number" th:name="number" required="true" th:value="${number}"/>
									<button type="button" id="btnAutoGeneratedNumber" data-loading-text="Chờ..." class="btn btn-primary" autocomplete="off">Tự động</button>
								</div>
							</div>
						</div>

						<div class="form-group">
							<label for="receiveTime" class="col-sm-2 control-label">Thời gian nhận</label>
							<div class="col-sm-10">
								<div class="form-inline">
									<div class="input-group date form_date" data-date="" data-date-format="dd MM yyyy" data-link-field="receiveTime" data-link-format="dd-mm-yyyy">
										<input class="form-control" size="16" type="text" value="" required="true" th:name="receiveTime" id="receiveTime"/>
										<!-- <span class="input-group-addon"><span class="glyphicon glyphicon-remove"></span></span> -->
										<span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
									</div>
									<input type="hidden"  value="" class="hidden"/><br/>
								</div>
							</div>
						</div>

			 			<div class="form-group">
				 			<div class="col-sm-offset-2 col-sm-10">
				 				<button type="submit" class="btn btn-primary">Xác nhận</button>
				 			</div>
			 			</div>
			 		</form>
			 	</div>
		</div>

		<!-- Assign -->
		<div th:replace="fragment/assign :: assign"></div>
		
		<!-- Report -->
		<div th:replace="fragment/report :: report"></div>

		<!-- Assign info -->
		<div th:replace="fragment/assign-info :: assign_info"></div>

		<!-- Report info -->
		<div th:replace="fragment/report-info :: report_info"></div>

		<div class="panel panel-info">
			<div class="panel-heading"><h3>Thông Tin Văn Bản Đến</h3></div>
			<div class="panel-body">
				<div class="form-group">
					<label for="assignee" class="col-sm-2 control-label">Người nhận quyền</label>
					<div class="col-sm-10">
						<p th:text="${assignee}" id="assignee"></p>
					</div>
				</div>

				<div class="form-group">
					<label for="userRole" class="col-sm-2 control-label">Quyền hạn</label>
					<div class="col-sm-10">
						<p th:text="${userRole}" id="userRole"></p>
					</div>
				</div>

				<div class="form-group">
					<label for="taskDescription" class="col-sm-2 control-label">Mô tả</label>
					<div class="col-sm-10">
						<p th:text="${taskDescription}" id="taskDescription"></p>
					</div>
				</div>
			</div>

			<table class="table table-bordered" id="table-info">
				<colgroup>
				<col class="col-xs-5 col-md-3"/>
				<col class="col-xs-10 col-md-8"/>
				<col class="col-xs-3 col-md-1"/>
			</colgroup>
			<tbody>
				<!-- ID -->
				<tr class="hidden">
					<th scope="row"><h4><span>ID : </span></h4></th>
					<td><h4 th:text="${doc.docId}" class="docId"></h4></td>
				</tr>

				<!-- title -->
				<tr>
					<th scope="row"><h4><span>Tiêu đề : </span></h4></th>
					<td><h4 th:text="${doc.title}" class="title"></h4></td>
				</tr>

				<!-- docName -->
				<tr>
					<th scope="row"><h4><span>Tên văn bản : </span></h4></th>
					<td><h4 th:text="${doc.docName}" class="docName"></h4></td>
				</tr>

				<!-- epitome -->
				<tr>
					<th scope="row"><h4><span>Trích yếu : </span></h4></th>
					<td><h5 th:text="${doc.epitome}" class="epitome"></h5></td>
				</tr>

				<!-- docType -->
				<tr>
					<th scope="row"><h4><span>Loại văn bản : </span></h4></th>
					<td><h4 th:text="${doc.docType.docTypeName}" class="docType" th:attr="data=${doc.docType.docTypeId}"></h4></td>
				</tr>

				<!-- tenure -->
				<tr>
					<th scope="row"><h4><span>Nhiệm kỳ : </span></h4></th>
					<td><h4 th:text="${doc.tenure.tenureName}" class="tenure" th:attr="data=${doc.tenure.tenureId}"></h4></td>
					<p class="hidden rOrgan" th:attr="data=${docRec.organ.organId}"></p>
				</tr>

				<!-- organ -->
				<tr>
					<th scope="row"><h4><span>Cơ quan ban hành : </span></h4></th>
					<td><h4 th:text="${doc.organ.organName}" class="organ"></h4></td>
				</tr>



				<!-- releaseTime -->
				<tr>
					<th scope="row"><h4><span>Ngày ban hành : </span></h4></th>
					<td><h4 th:text="${doc.releaseTime}" class="releaseTime"></h4></td>
				</tr>

				<!-- receiveTime -->
				<tr th:if="${docRec.receiveTime}">
					<th scope="row"><h4><span>Ngày tiếp nhận : </span></h4></th>
					<td><h4 th:text="${docRec.receiveTime}" class="receiveTime"></h4></td>
				</tr>

				<!-- number -->
				<tr th:if="${docRec.number}">
					<th scope="row"><h4><span>Số : </span></h4></th>
					<td><h4 th:text="${doc.number}" class="number"></h4></td>
				</tr>

				<!-- privacyLevel -->
				<tr>
					<th scope="row"><h4><span>Mức độ mật : </span></h4></th>
					<td><h4 th:text="${doc.privacyLevel.privacyName}" class="privacyLevel" th:attr="data=${doc.privacyLevel.privacyId}"></h4></td>
				</tr>

				<!-- emergencyLevel -->
				<tr>
					<th scope="row"><h4><span>Mức độ khẩn : </span></h4></th>
					<td><h4 th:text="${doc.emergencyLevel.emeName}" class="emergencyLevel" th:attr="data=${doc.emergencyLevel.emeId}"></h4></td>
				</tr>

				<!-- files -->
				<tr>
					<th scope="row"><h4><span>Tập tin : </span></h4></th>
					<td>
						<a href="#" class="btn btn-primary" th:href="@{/flow/download_document/} + ${file.fileId}">Tải xuống <span class="glyphicon glyphicon-download"></span></a>
					</td>
				</tr>
			</tbody>			
			</table>
		</div>	

		<div th:replace="fragment/footer :: footer"></div>
	</div>
</body>
</html>